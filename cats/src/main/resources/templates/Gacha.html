<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cat's Matching</title>
<link href="/css/style.css" th:href="@{/css/style.css}" rel="stylesheet"></link>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">
</head>
<body class="wrapper">


	<header>
		<div class="row">
			<div class="col-5">
				<a href=""> <img src="/img/rogo.jpg" width="150">
				</a>
			</div>
			<div class="col-5">
				<img src="/img/coin.png" width="50" class="pointImg"><p  th:text="${point}" class="point" ></p><p class="point" > ポイント</p>
			</div>
			<div class="col-2">
				<a th:href="@{/Logout}">ログアウト</a>
			</div>
		</div>
	</header>

	<div class="txt row">

		<div class="col-2">
			<a href=" " class="back"> 戻る </a>
		</div>
		<div class="col-8">きっかけガチャ</div>
		<div class="col-2"></div>
	</div>
	<div th:if="${msg}">
		<p th:text="${msg}"class="errtext"></p>
	</div>
	<div class="center">
	<form class="input" th:action="@{/Gacha/Matching}" th:object="${gachabeans}"   method="get" enctype="multipart/form-data" >
		<input type="image" src="/img/gacha.jpeg" width="150" class="gacha-img">
	</div>

	<div class="center">
		<select id="hobby" name="hobbyId" class="form-control" >
			<option th:value="0" class="pldown gacha-category">趣味を選択してください</option>
			<option th:each="dto:${hobbylist}" th:value="${dto.hobbyId}" th:text="${dto.hobbyName}" class="pldown gacha-category"></option>
		</select>
	</form>
	</div>

	<div class="gacha-message fadeout center">
		<div class="img-box">
			<img src="/img/heart.png" alt="" class="img-heart img-fluid">
		</div>

	</div>

	<div th:if="${mode}">
	<input type="hidden" name="mode" value="update">
	</div>

	<footer>
		<div class="row">
			<div class="col">
				<a th:href="@{/Home}"><img src="/img/ie.png"> </a>
			</div>
			<div class="col">
				<a th:href="@{/Board/Read}"><img src="/img/mrmo.png"> </a>
			</div>

			<div class="col">
				<a th:href="@{/Gacha/Top}"><img src="/img/hart.png"> </a>
			</div>

			<div class="col">
				<a th:href="@{/Talk/Select}"><img src="/img/fukidashi.png"> </a>
			</div>

			<div class="col">
				<a th:href="@{/Profile/View}"><img src="/img/hito.png"> </a>
			</div>

		</div>
	</footer>
</body>
</body>
</html>


<script>
	var mode = document.querySelector('input[name="mode"]');
	//mode = null はそもそもあるかの判定
	if( mode != null && mode.value == 'update'){
		// ハートをフェードインで表示させる処理
		document.querySelector('.gacha-message').classList.remove('fadeout');
    	document.querySelector('.gacha-message').classList.add('fadein');
	}

	// ハート自体をクリックしたときにフェードアウトして消える処理
	document.querySelector('.img-heart').onclick = function() {
	  	document.querySelector('.gacha-message').classList.remove('fadein');
	 	document.querySelector('.gacha-message').classList.add('fadeout');
	}
</script>

