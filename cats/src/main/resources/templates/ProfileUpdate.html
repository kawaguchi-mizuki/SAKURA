<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>プロフィール変更</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link href="/css/UserEntry.css" th:href="@{/css/UserEntry.css}" rel="stylesheet"></link>
<link href="/css/common.css" th:href="@{/css/common.css}" rel="stylesheet"></link>
</head>
<body>

	<header>
		<div class="row">
			<div class="col-5">
				<a href=""> <img src="/img/rogo.jpg" width="150">
				</a>
			</div>
			<div class="col-5">
				<img src="/img/coin.png" width="50"> 300ポイント
			</div>
			<div class="col-2">
				<a th:href="@{/Logout}">ログアウト</a>
			</div>
		</div>
	</header>

	<div class="txt">
		<p>マイページ変更</p>
	</div>

	<form class="input" th:action="@{/Profile/Correction}" th:object="${studentbeans}"   method="post" enctype="multipart/form-data" >

		<div th:if="${msg}">
			<p th:text="${msg}"class="text-danger err"></p>
		</div>

		<label class="h5 a">名前</label>
		<input type="text" name="name" class="form-control"  th:value="${studentbeans.name}" required/>
		<br/>

		<label class="h5">性別</label>
		<br/>

			<input type="radio" name="sex" th:value="男"/>   男性
			<input type="radio" name="sex" th:value="女" class="sex" />  女性

		<script th:inline="javascript">
		/*<![CDATA[*/
		    var studentsex = /*[[${studentbeans.sex}]]*/ 'Sebastian';
		/*]]>*/

			var elements = document.getElementsByName( "sex" ) ;

			if(studentsex=="男"){
				elements[0].checked = true ;
			}else{
				elements[1].checked = true ;
			}
		</script>
		<br/>

		<label class="h5 hobby">趣味</label>
		<br/>
		 <select id="hobby" name="hobbyId" class="form-control"  >
			<option th:each="dto:${hobbylist}" th:value="${dto.hobbyId}" th:text="${dto.hobbyName}"></option>
		 </select>
		 <script th:inline="javascript">

			/*<![CDATA[*/
		    var hobbyId = /*[[${studentbeans.hobbyId}]]*/ 'Sebastian';
			/*]]>*/
				document.getElementById('hobby').options[hobbyId-1].selected = true;
			</script>
		<br/>

		<label class="h5">学校名</label>
		<br/>
		 <select id="school" name="schoolId" class="form-control" >
			<option  th:each="dto:${schoollist}" th:value="${dto.schoolId}" th:text="${dto.schoolName}"></option>
		 </select>
		<br/>

		<label class="h5">学科名</label>
		<br/>
		 <select id="course"  name="courseId" class="form-control" >
			<option  th:value="1">※学校から選択してください</option>
		 </select>
		<br/>

		<label class="h5">学年 </label>
		<br/>
		<select id="grade" name="grade" class="form-control" >
				<option th:value="0" selected>学年を選択してください</option>
			<script>
				for (var i = 1; i <= 4; i++) {
						document.write('<option th:value="'+i+'">' + i + '</option>');
				}
			</script>
			<script th:inline="javascript">

			/*<![CDATA[*/
		    var grade = /*[[${studentbeans.grade}]]*/ 'Sebastian';
			/*]]>*/
				document.getElementById('grade').options[grade].selected = true;
			</script>
		</select>
		<br/>

		<label class="h5">年齢</label>
		<br/>
		<select id="age" name="age" class="form-control" >
				<option th:value="0" selected>年齢を選択してください</option>
			<script>
				for (var i = 18; i <= 40; i++) {
						document.write('<option th:value="'+i+'">' + i + '</option>');
				}
			</script>
			<script th:inline="javascript">

			/*<![CDATA[*/
		    var age = /*[[${studentbeans.age}]]*/ 'Sebastian';
			/*]]>*/
				document.getElementById('age').options[age-17].selected = true;
			</script>
		</select>
	    </select>
		<br/>

		<label class="h5">出身地</label>
		<br/>
		<select id="birthplace" name="birthplace" class="form-control" >
													<option th:value="未選択">出身地を選択してください</option>
													<option th:value="北海道">北海道</option>
													<option th:value="青森県">青森県</option>
													<option th:value="岩手県">岩手県</option>
													<option th:value="宮城県">宮城県</option>
													<option th:value="秋田県">秋田県</option>
													<option th:value="山形県">山形県</option>
													<option th:value="福島県">福島県</option>
													<option th:value="茨城県">茨城県</option>
													<option th:value="栃木県">栃木県</option>
													<option th:value="群馬県">群馬県</option>
													<option th:value="埼玉県">埼玉県</option>
													<option th:value="千葉県">千葉県</option>
													<option th:value="東京都">東京都</option>
													<option th:value="神奈川県">神奈川県</option>
													<option th:value="新潟県">新潟県</option>
													<option th:value="富山県">富山県</option>
													<option th:value="石川県">石川県</option>
													<option th:value="福井県">福井県</option>
													<option th:value="山梨県">山梨県</option>
													<option th:value="長野県">長野県</option>
													<option th:value="岐阜県">岐阜県</option>
													<option th:value="静岡県">静岡県</option>
													<option th:value="愛知県">愛知県</option>
													<option th:value="三重県">三重県</option>
													<option th:value="滋賀県">滋賀県</option>
													<option th:value="京都府">京都府</option>
													<option th:value="大阪府">大阪府</option>
													<option th:value="兵庫県">兵庫県</option>
													<option th:value="奈良県">奈良県</option>
													<option th:value="和歌山県">和歌山県</option>
													<option th:value="鳥取県">鳥取県</option>
													<option th:value="島根県">島根県</option>
													<option th:value="岡山県">岡山県</option>
													<option th:value="広島県">広島県</option>
													<option th:value="山口県">山口県</option>
													<option th:value="徳島県">徳島県</option>
													<option th:value="香川県">香川県</option>
													<option th:value="愛媛県">愛媛県</option>
													<option th:value="高知県">高知県</option>
													<option th:value="福岡県">福岡県</option>
													<option th:value="佐賀県">佐賀県</option>
													<option th:value="長崎県">長崎県</option>
													<option th:value="熊本県">熊本県</option>
													<option th:value="大分県">大分県</option>
													<option th:value="宮崎県">宮崎県</option>
													<option th:value="鹿児島県">鹿児島県</option>
													<option th:value="沖縄県">沖縄県</option>
		</select>
		<br/>

		<label class="h5">自己紹介 </label>
		<br/>
			<textarea name="introduction" class="form-control"  rows="4" cols="40"></textarea>
		<br/>

		<label class="h5">パスワード (7文字以上) </label>
		<input name="password" type="text" class="form-control"  th:value="${password}" />
		<br/>

		<label class="h5">パスワード再入力</label>
		<input name="r_password" type="text" class="form-control"  />
		<br/>

		<input type="button" class="btn btn-primary back"  onclick="history.back()" value="戻る"/>
		<input type="button" class="btn btn-danger entry" data-toggle="modal" data-target="#blockModal"  value="修正"/>


	<!-- Modal -->
	<div class="modal fade" id="blockModal" tabindex="-1" role="dialog"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">修正確認</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">この内容で修正します。</div>
				<div class="modal-footer">

					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">戻る</button>
					<button type="submit" class="btn btn-primary">修正する</button>
				</div>
			</div>
		</div>
	</div>
	</form>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
	<script>

	$(function(){
		//学校の選択が変わった時
	    $("#school").change(function(){
	        var value = $("#school option:selected").val();
			var params ="schoolId="+value;



			  $.ajax({
			    	cache: false,
			        type : 'GET',
			        url : /*[[@{/User/GetCourseList}]]*/"GetCourseList",
			        data : params,
			        dataType : 'json',
			        processData : false,
			        contentType : false,
			        timeout : 360000, // milliseconds

			  }).done(function(json) {
			    	//var obj = $.parseJSON(json);
		            $("#course").html("");

		            for(var i=0;i<json.length;i++){
		                $("#course").append("<option value="+json[i].courseId+">"+json[i].courseName+"</option>");
		            }
			  });
	    });
	});




	</script>

	<footer>
		<div class="row">
			<div class="col">
				<a th:href="@{/Home/Read}"><img src="/img/ie.png"> </a>
			</div>
			<div class="col">
				<a th:href="@{/Board/Read}"><img src="/img/mrmo.png"> </a>
			</div>

			<div class="col">
				<a href=""><img src="/img/hart.png"> </a>
			</div>

			<div class="col">
				<a href=""><img src="/img/fukidashi.png"> </a>
			</div>

			<div class="col">
				<a th:href="@{/Profile/View}"><img src="/img/hito.png"> </a>
			</div>

		</div>
	</footer>


</body>

</html>